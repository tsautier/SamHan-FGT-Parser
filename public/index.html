<!-- SPDX-License-Identifier: SSPL-1.0 -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>fgt-webparser — FortiGate Config Parser (Unofficial)</title>
    <style>
      body{font:14px system-ui,Segoe UI,Roboto,Arial;margin:2rem;max-width:1100px}
      pre{white-space:pre-wrap;border:1px solid #ddd;padding:1rem;border-radius:8px}
      .row{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}
      .btn{padding:.6rem 1rem;border-radius:8px;border:1px solid #ccc;background:#f6f6f6;cursor:pointer}
      .btn:active{transform:translateY(1px)}
      .muted{color:#666}
      .title{display:flex;align-items:center;gap:.6rem}
      .badge{font-size:12px;border:1px solid #ddd;padding:.1rem .4rem;border-radius:6px;background:#fafafa}
      code{background:#fafafa;padding:.1rem .3rem;border-radius:.25rem}
    </style>
  </head>
  <body>
    <div class="title">
      <h1 style="margin:0">fgt-webparser</h1>
      <span class="badge">Unofficial</span>
      <span class="badge">SSPL-1.0</span>
    </div>
    <p class="muted">Upload a FortiGate <code>.conf</code> backup and get JSON/YAML.</p>
    <div class="row">
      <input type="file" id="f" />
      <select id="fmt" aria-label="Output format">
        <option value="json">JSON</option>
        <option value="yaml">YAML</option>
      </select>
      <button class="btn" id="go">Parse</button>
    </div>
    <pre id="out">Result will appear here…</pre>
    <footer style="margin-top:2rem;color:#666;font-size:12px">
      <hr style="margin:1rem 0;border:none;border-top:1px solid #eee">
      <p>
        <strong>Trademarks.</strong>
        Fortinet®, FortiGate®, and FortiOS® are trademarks or registered trademarks of Fortinet, Inc.
        This project is an independent, community-developed tool and is not affiliated with, endorsed, or sponsored by Fortinet, Inc.
      </p>
      <p>© 2025 fgt-webparser contributors. Licensed under the Server Side Public License, v1 (SSPL-1.0).</p>
    </footer>
    <script>
      const go = document.getElementById('go');
      go.onclick = async () => {
        const f = document.getElementById('f').files[0];
        const fmt = document.getElementById('fmt').value;
        if(!f){ alert('Choose a .conf file'); return; }
        const fd = new FormData();
        fd.append('file', f);
        fd.append('format', fmt);
        const res = await fetch('/api/parse', { method: 'POST', body: fd });
        const txt = await res.text();
        document.getElementById('out').textContent = txt;
      };
    </script>
  </body>
</html>
